% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_functions.R
\name{auto_stat}
\alias{auto_stat}
\title{Analyze data with a chosen LLM using a two-step approach}
\usage{
auto_stat(
  data,
  question,
  api_key,
  llm_provider = NULL,
  llm_model = NULL,
  llm_provider_args = list(),
  llm_generation_params = list(temperature = 0.3, maxOutputTokens = 4096),
  output_file = "auto_stat_report.html",
  include_full_data = TRUE,
  max_rows = 50,
  max_cols = 20,
  output_dir = NULL
)
}
\arguments{
\item{data}{Dataset to analyze.}

\item{question}{Research question.}

\item{api_key}{API key for the selected LLM provider.}

\item{llm_provider}{Name of the LLM provider (e.g., "gemini", "openai", "anthropic"). Default: "gemini".
If NULL and llm_model is provided, will attempt to detect the provider from the model name.}

\item{llm_model}{Name of the specific LLM model to use. If NULL, defaults to a provider-specific model:
"gemini-2.0-flash" for Gemini, "gpt-3.5-turbo" for OpenAI, or "claude-3-opus-20240229" for Anthropic.}

\item{llm_provider_args}{A list of additional arguments for \code{create_llm_connection}
(e.g., list(organization_id = "org-...") for OpenAI).}

\item{llm_generation_params}{A list of parameters for the LLM's generation process
(e.g., list(temperature = 0.3, maxOutputTokens = 4096)).}

\item{output_file}{Output report file path.}

\item{include_full_data}{Whether to include the full dataset in prompts when small.}

\item{max_rows}{Maximum number of rows to consider a dataset "small".}

\item{max_cols}{Maximum number of columns to consider a dataset "small".}

\item{output_dir}{Directory where results will be saved. If NULL, defaults to "auto_stat_output".}
}
\value{
A list containing:
\item{plan}{The analysis plan generated by the LLM.}
\item{code_response}{The full response from the LLM containing the executable code.}
\item{extracted_code}{The executable R code extracted from the LLM response.}
\item{results}{A list of analysis results from executing the code, including statistical outputs and plots.}
\item{interpretation}{The LLM's interpretation of the results.}
\item{report_path}{The file path to the generated HTML report.}
\item{output_dir}{The directory where outputs were saved.}
}
\description{
Automatically analyzes a dataset using a chosen LLM with a two-step approach. First, it generates a comprehensive
analysis plan. Then, it creates executable R code based on that plan. This approach allows more detailed
planning before code generation, which can lead to more thoughtful analysis for complex questions.
}
\examples{
\dontrun{
# Using Anthropic's Claude with specific model
results <- auto_stat(
  data = mtcars,
  question = "What factors are most strongly associated with quarter-mile time?",
  api_key = "your_anthropic_api_key",
  llm_provider = "anthropic",
  llm_model = "claude-3-opus-20240229"
)

# Using Gemini with default model
results <- auto_stat(
  data = airquality,
  question = "How do temperature and wind speed affect ozone levels?",
  api_key = "your_gemini_api_key"
)
}
}
